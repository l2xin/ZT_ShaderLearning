<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-MC35ML');</script><script src="https://store.unity.com/themes/contrib/unity_base/js/unity-cdp.js"></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Configuring for Apple App Store and Mac App Store</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1539961666"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1539961666"></script><script type="text/javascript" src="docdata/toc.js?ts=1539961666"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1539961666"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1539961666">
<link rel="stylesheet" href="../StaticFilesManual/js/feedback/five-star-rating-master/css/rating.min.css">
<script src="../StaticFilesManual/js/feedback/five-star-rating-master/js/src/rating.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="UnityServices" data-pagetype="normal"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-number">Version: <b>2018.2</b> (switch to <a href="https://docs.unity3d.com/2018.3/Documentation/Manual">2018.3b</a> or <a href="https://docs.unity3d.com/2017.4/Documentation/Manual">2017.4</a>)</div>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UnityIAPAppleConfiguration.html">English</a></li>
<li><a href="/ja/current/Manual/UnityIAPAppleConfiguration.html">日本語</a></li>
<li><a href="/es/current/Manual/UnityIAPAppleConfiguration.html">Español</a></li>
<li><a href="/kr/current/Manual/UnityIAPAppleConfiguration.html">한국어</a></li>
<li><a href="/ru/current/Manual/UnityIAPAppleConfiguration.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2018.2)</a></li>
<li><a href="UnityServices.html">Unity Services</a></li>
<li><a href="UnityIAP.html">﻿Unity IAP</a></li>
<li><a href="UnityIAPSettingUp.html">Setting up Unity IAP</a></li>
<li>Configuring for Apple App Store and Mac App Store</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnityIAPSettingUp.html"></a></span><div class="tip">Setting up Unity IAP</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityIAPGoogleConfiguration.html"></a></span><div class="tip">Configuring for Google Play Store</div>
</div>
</div></div>
<div class="otherversionswrapper" onmouseover="setOtherVersionsDisplay(true)" onmouseout="setOtherVersionsDisplay(false)">
<a>Other Versions</a><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">Cannot access other versions offline!</div>
</div>
<div class="scrollToFeedback"><a id="scrollToFeedback">Leave feedback</a></div>
<h1>Configuring for Apple App Store and Mac App Store</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<h2>Introduction</h2>

<p>This guide describes the process of establishing the digital records and relationships necessary for a Unity game to interact with an In-App Purchase Store. The <span class="tooltip"><a href="UnityIAP.html">Unity IAP</a><span class="tooltiptext">See IAP <a href="UnityIAP.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#UnityIAP">Glossary</a></span></span></span> purchasing API is targeted. </p>

<p>In-App Purchase (IAP) is the process of transacting money for digital goods. A platform’s Store allows purchase of Products, representing digital goods. These Products have an Identifier, typically of string datatype. Products have Types to represent their durability: <em>subscription</em>, <em>consumable</em> (capable of being rebought), and <em>non-consumable</em> (capable of being bought only once) are the most common. </p>

<h2>Apple App Store</h2>

<h3>Getting Started</h3>

<ol>
<li><p>Write a game implementing Unity IAP. See <a href="UnityIAPInitialization.html">Unity IAP Initialization</a> and <a href="https://unity3d.com/learn/tutorials/topics/analytics/integrating-unity-iap-your-game-beta">Integrating Unity IAP with your game</a>.</p></li>
<li>
<p>Keep the game’s product identifiers on-hand for use in iTunes Connect later.</p>

<figure>
<img src="../uploads/Main/IAPAppleImage0.png" alt="">
</figure>
</li>
</ol>

<h3>Register the Application</h3>

<ol>
<li><p>In the <a href="https://developer.apple.com/account">Apple Developer Center</a>, navigate to the appropriate Identifiers section. </p></li>
<li>
<p>Add a new App ID to create a fundamental application entity with Apple. </p>

<p>
<strong>NOTE:</strong> Use an Explicit App ID. Wildcard App IDs (com.example.*) cannot be used for applications that use In-App Purchases. </p>

<p>
<strong>NOTE:</strong> The App ID is available to use in iTunes Connect after you create it in the Developer Center.</p>

<figure>
<img src="../uploads/Main/IAPAppleImage1.png" alt="">
</figure>
</li>
<li>
<p>Navigate to <a href="https://itunesconnect.apple.com">iTunes Connect</a> and create an App, to establish a Store relationship with your game. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage2.png" alt="">
</figure>
</li>
<li>
<p>Use the newly created App ID for the app’s Bundle ID. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage3.png" alt="">
</figure>
</li>
</ol>

<h3>Add In-App Purchases</h3>

<ol>
<li>
<p>Choose <strong>Features</strong> and add a new In-App Purchase with the plus (“+”) button. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage4.png" alt="">
</figure>
</li>
<li>
<p>Choose a <a href="UnityIAPDefiningProducts.html">Product Type</a>. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage5.png" alt="">
</figure>
</li>
<li>
<p>Specify the Product Identifier, and complete other fields as requested.</p>

<p>
<strong>NOTE:</strong> The “Product ID” here is the same identifier used in the game source code, added to the <a href="http://docs.unity3d.com/Documentation/ScriptReference/Purchasing.ConfigurationBuilder.html">Unity IAP ConfigurationBuilder</a> instance via <strong>AddProduct()</strong> or <strong>AddProducts()</strong>. </p>

<p>
<strong>NOTE:</strong> When targeting multiple Apple device groups (for example, shipping on both iOS and Mac) Apple requires usage of different, unique product identifiers for each distinct device group. Use <a href="http://docs.unity3d.com/ScriptReference/Purchasing.IDs-ctor.html">Unity IAP’s Purchasing.IDs</a> class and define a one-to-many mapping Product IDs to the store-specific identifiers, and pass that mapping in when initializing IAP. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage6.png" alt="">
</figure>
</li>
<li>
<p>Result:</p>

<figure>
<img src="../uploads/Main/IAPAppleImage7.png" alt="">
</figure>
</li>
</ol>

<h3>Test IAP</h3>

<ol>
<li>
<p>Create <strong>Sandbox Testers</strong> using iTunes Connect for use on your test device’s iTunes Account. To do this, navigate to <strong>iTunes Connect &gt; Users and Roles</strong>, and choose the plus (“+”) button. You must review <a href="https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Chapters/SettingUpUserAccounts.html#/apple_ref/doc/uid/TP40011225-CH25-SW9">Apple’s Sandbox Tester documentation</a> as there are several additional important usage notes, and you must use a real email address to create Testers. </p>

<p>
<strong>NOTE:</strong> See the <a href="UnityIAPiOSMAS.html">iOS and Mac App Store guides</a> for additional details. </p>

<p>
<strong>TIP:</strong> (*) To simplify managing the email address, use an email service capable of sub-addressing (emailaccount+subaddress@example.com) such as Gmail, iCloud, and Outlook.com. This allows one email account to receive email for multiple sub-addresses. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage8.png" alt="">
</figure>
</li>
<li>
<p>Walk through the user creation wizard. </p>

<figure>
<img src="../uploads/Main/IAPAppleImage9.png" alt="">
</figure>
</li>
<li>
<p>Build the Xcode project for your game using Unity.</p>

<p>
<strong>NOTE:</strong> Ensure the Bundle Identifier in Unity (Build Settings &gt; iOS &gt; Settings … &gt; Other Settings &gt; Bundle Identifier) matches that used in iTunes Connect.</p>
</li>
<li>
<p>Then, in your game’s Xcode project, ensure the Team (Project Navigator &gt; your game Target &gt; General &gt; Identity &gt; Team) is set to that of your Apple Developer account.</p>

<figure>
<img src="../uploads/Main/IAPAppleImage10.png" alt="">
</figure>
</li>
</ol>

<h4>For iOS</h4>

<ol>
<li>
<p>Using the target <span class="tooltip"><strong>iOS</strong><span class="tooltiptext">Apple’s mobile operating system. <a href="iphone.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#iOS">Glossary</a></span></span></span> device, sign out of any existing Apple ID accounts. Only sign in as the Sandbox Tester when prompted by the app, later. Any subsequent purchases are routed through the Apple Sandbox instead of the Production Store.</p>

<figure>
<img src="../uploads/Main/IAPAppleImage11.png" alt="">
</figure>
</li>
<li><p>Build and run the game on your iOS device. <code>UnityPurchasing.Initialize()</code> succeeds if everything has been correctly configured. See <a href="http://docs.unity3d.com/ScriptReference/Purchasing.UnityPurchasing.Initialize.html">Unity Purchasing Initialization</a> </p></li>
<li>
<p>Test the IAP by making a purchase in the game on the device. A modified purchase dialog displays, explaining that this purchase is being performed in the Sandbox Environment. Use the Sandbox User Tester password when prompted for purchase. </p>

<p>WARNING: If the indicator is not present, then an account is charged real money for the product.</p>

<figure>
<img src="../uploads/Main/IAPAppleImage12.png" alt="">
</figure>
</li>
</ol>

<h4>For Mac</h4>

<ol>
<li><p>When building a desktop Mac build, select <strong>Mac App Store Validation</strong> within Unity’s Mac <span class="tooltip"><strong>Player Settings</strong><span class="tooltiptext">A settings manager that lets you set various player-specific options for the final game built by Unity. <a href="class-PlayerSettings.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#PlayerSettings">Glossary</a></span></span></span>.</p></li>
<li><p>Once you have built your App, update its <code>info.plist</code> file with your bundle identifier and version strings. Right click on the .app file and click <strong>Show Package Contents</strong>, locate the <code>info.plist</code> file and update the <code>CFBundleIdentifier</code> string to your application’s bundle identifier.</p></li>
<li>
<p>Sign, package, and install your application. Run the following commands from an OSX terminal, filling in “your.app” and “your.pkg” appropriately.</p>

<p>
<strong>TIP:</strong> To sign the bundle, you may first need to remove the Contents.meta file if it exists: <code>your.app/Contents/Plugins/unitypurchasing.bundle/Contents.meta</code>
</p>

<ol>
<li><p><code>codesign -f --deep -s &quot;3rd Party Mac Developer Application: &quot; your.app/Contents/Plugins/unitypurchasing.bundle</code></p></li>
<li><p><code>codesign -f --deep -s &quot;3rd Party Mac Developer Application: &quot; your.app</code></p></li>
<li><p><code>productbuild --component your.app /Applications --sign &quot;3rd Party Mac Developer Installer: &quot; your.pkg</code></p></li>
</ol>
</li>
<li><p>To install the package correctly, delete the unpackaged .app file before running the newly created package and installing it.</p></li>
<li><p>Launch the app from the <em>Applications</em> folder. The first time you do so, you are prompted to enter your iTunes account details, for which you can then make test purchases against the sandbox environment.</p></li>
</ol>

<p>See pages on <a href="UnityIAPiOSMAS.html">iOS and Mac Extended Functionality</a> and <a href="HOWTO-PortToAppleMacStore.html">Delivering applications to the Apple Mac Store</a> for additional details on Apple App Store testing and signing. </p>
<div class="feedbackbox" id="feedbackbox">
<div id="rating"><p>Did you find this page useful? Please give it a rating:<br><div id="ratecontent" class="c-rating"></div>
</p></div>
<div id="ratingThanks" style="display:none"><p>Thanks for rating this page!</p></div>
<div id="problem"><p><a name="problem">Report a problem on this page</a></p></div>
<div id="problemType" style="display:none"><p>What kind of problem would you like to report?<ul type="problems">
<li><a name="needcode" id="problemneedcode">This page needs code samples</a></li>
<li><a name="code" id="problemcode">Code samples do not work</a></li>
<li><a name="missing" id="problemmissing">Information is missing</a></li>
<li><a name="incorrect" id="problemincorrect">Information is incorrect</a></li>
<li><a name="unclear" id="problemunclear">Information is unclear or confusing</a></li>
<li><a name="language" id="problemlanguage">There is a spelling/grammar error on this page</a></li>
<li><a name="other" id="problemother">Something else</a></li>
</ul>
<p><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues></p>
</p></div>
<div id="problemThanks" style="display:none"><p>Thanks for letting us know! This page has been marked for review based on your feedback.<br><br>If you have time, you can provide more information to help us fix the problem faster.<br><br><a id="problemThanksMoreInfoButton">Provide more information</a><br>
</p></div>
<div id="problemMoreInfo" style="display:none">
<p id="problemNeedCodeForm" style="display:none">You've told us this page needs code samples. If you'd like to help us further, you could provide a code sample, or tell us about what kind of code sample you'd like to see:</p>
<p id="problemCodeForm" style="display:none">You've told us there are code samples on this page which don't work. If you know how to fix it, or have something better we could use instead, please let us know:</p>
<p id="problemMissingForm" style="display:none">You've told us there is information missing from this page. Please tell us more about what's missing:</p>
<p id="problemIncorrectForm" style="display:none">You've told us there is incorrect information on this page. If you know what we should change to make it correct, please tell us:</p>
<p id="problemUnclearForm" style="display:none">You've told us this page has unclear or confusing information. Please tell us more about what you found unclear or confusing, or let us know how we could make it clearer:</p>
<p id="problemLanguageForm" style="display:none">You've told us there is a spelling or grammar error on this page. Please tell us what's wrong:</p>
<p id="problemOtherForm" style="display:none">You've told us this page has a problem. Please tell us more about what's wrong:</p>
<form>
<textarea id="problemFormSuggestionField" cols="40" rows="5"></textarea><input type="hidden" id="problemFormDescription"><input type="submit" id="problemFormDescriptionSubmit" value="Submit">
</form>
</div>
<div id="problemMoreInfoThanks" style="display:none"><p>Thanks for helping to make the Unity documentation better!</p></div>
<script>InitialiseStarRating();</script>
</div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnityIAPSettingUp.html"></a></span><div class="tip">Setting up Unity IAP</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityIAPGoogleConfiguration.html"></a></span><div class="tip">Configuring for Google Play Store</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2018 Unity Technologies. Publication: 2018.2-002K. Built: 2018-10-10.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
